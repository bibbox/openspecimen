<div class="os-home-widgets">
  <div class="os-home-widget col-{{widget.width}}" ng-repeat="widget in widgets">
    <div class="os-card">
      <div class="title" ng-if="!ctx[widget.name].searchMode">
        <div class="clearfix">
          <h5>
            <span style="margin-right: 10px;" ng-show="!!widget.icon" ng-class="widget.icon"></span>
            <span translate="{{widget.title}}"></span>
          </h5>
          <span class="btns">
            <a class="btn btn-xs default" ng-click="openSearch(widget)">
              <span class="fa fa-search"></span>
            </a>
            <a class="btn btn-xs default" ui-sref="{{widget.detailedList}}" ng-if="!!widget.detailedList">
              <span class="fa fa-expand"></span>
            </a>
          </span>
        </div>
      </div>
      <div class="title" ng-if="ctx[widget.name].searchMode">
        <div class="os-input-addon-grp">
          <input type="text" os-md-input os-focus="true" ng-model="ctx[widget.name].searchTerm"
            ng-model-options="{ debounce: 1000 }">
          <button class="btn btn-xs os-input-addon-right" ng-click="closeSearch(widget)">
            <span class="fa fa-remove"></span>
          </button>
        </div>
      </div>
      <div class="content os-fancy-scroll">
        <os-user-home-page-item-tmpl widget="widget" opts="ctx[widget.name]"></os-user-home-page-item-tmpl>
      </div>
    </div>
  </div>
</div>
